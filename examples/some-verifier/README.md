# SoMe Web3 ID Verifier dApp and API

Checks social media credentials issued by the SoMe Web3 ID Issuer.
Also serves an API to the social media bots, where they can query they verification status of users.

Currently the two supported platforms are Telegram and Discord.

## API

### GET `/verifications/{platform}/{userId}`

Responds with a list of `Accounts`s and an optional `FullName` in JSON.

Example response:

```
{
    "accounts": [
        {
            "platform": "Telegram",
            "username": "TelegramUsername",
            "revoked": false
        },
        {
            "platform": "Discord",
            "username": "DiscordUsername#1234",
            "revoked": false
        }
    ],
    "full_name": {
        "first_name": "John",
        "last_name": "Doe"
    }
}
```

### POST `/verifications`

Adds a new verification, taking JSON parameter examplified by the following object.

- `proof`: web3 ID proof generated by a users wallet. Must include proofs from multiple verifiable credentials.
- `timestamp`: Date formatted as ISO string.

```
{
  "proof": {
    "presentationContext": "d99d2159f055cbfafac041e6313bf2fce0522eb5b5103e6bd59a67c3bdbe9580",
    "proof": {
      "created": "2023-08-29T11:59:04.956Z",
      "proofValue": [
        "81a302e4a8173fc3fbb0cf4a1c2b77dc69a91bb986719e4114c920cf789abfde8df2678291a742440b77ba51ba17def35375f548180151c78403753edaef3e03",
        "5cf9802d93f6b8025e8e3d40bb82d67defb0cb429dfd301efffb6862035b744736247d34fd53ea6a95f24ca84232a6fadc72b78d5d72486a0cffd4397a8ae70c"
      ],
      "type": "ConcordiumWeakLinkingProofV1"
    },
    "type": "VerifiablePresentation",
    "verifiableCredential": [
      ...
    ]
  },
  "timestamp": "2023-08-29T11:59:02.720Z"
}
```

### PATCH `/verifications`

Removes a verification. Takes a JSON parameter similar to as the corresponding `POST` endpoint, but will reject any proof made from anything else than 1 verifiable credential.
